<!DOCTYPE html>
<html lang="en">
<head>
    <title>Patterns in the Void - cryptography</title>
    <meta charset="utf-8" />
    <meta name="robots" 
          content="noindex, nofollow">
    <link rel="stylesheet" 
          href="../theme/css/main.css" 
          type="text/css" />
        <link href="https://blog.patternsinthevoid.net/feeds/all.atom.xml" 
          type="application/atom+xml" 
          rel="alternate" 
          title="Patterns in the Void Atom Feed" />
                <link href="../theme/prettify/prettify.css"
          type="text/css"
          rel="stylesheet" />
    <script type="text/javascript" 
            src="../theme/prettify/prettify.js"></script>
        <noscript>
        <div style="width:80%;">
        <p style="line-height:90%;margin:10px 10px 0px 10px;text-align:justify;text-indent:25px;">
            <small>
            <br>Hey, kudos! You don't run arbitrary scripts either!<br />
            <br>My apologies for the javascript on this page...it's 
            prettify.js for the syntax highlighting in code blocks. 
            I added
            <a href="../theme/prettify/nope.css">one line of CSS</a>
            for you; the rest of this site should work fine.<br />
            <br>&#x24B6;&#38;&#x2665; isis<br /></small>
        </p>
        </div>
        <link href="../theme/prettify/nope.css"
              type="text/css"
              rel="stylesheet" />
    </noscript>

    <!--[if IE]>
        <script src="../theme/js/html5.js">
        </script>
        <![endif]-->

    <!--[if lte IE 7]>
        <link rel="stylesheet" type="text/css" media="all"
              href="../theme/css/ie.css"/>
        <script src="../theme/js/IE8.js"
                type="text/javascript"></script>
        <![endif]-->

    <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" media="all"
              href="../theme/css/ie6.css"/>
        <![endif]-->
</head>

<body id="index" class="home" onload="prettyPrint()">
<a href="https://github.com/isislovecruft">
        <img style="position: absolute; top: 0; right: 0; border: 0; max-width: 48px;"
         src="https://blog.patternsinthevoid.net/theme/images/icons/github-tentacle-icon.png"
         alt="code." />
</a>
<header id="banner" class="body">
    <h1>
        <a href="../">Patterns in the Void 
                    </a>
    </h1>
    <nav>
        <ul>
                                                                                    <li >
                <a href="../category/anarchism.html">anarchism</a>
            </li>
                                                                        <li >
                <a href="../category/hacking.html">hacking</a>
            </li>
                                                <li >
                <a href="../category/physics.html">physics</a>
            </li>
                                                <li >
                <a href="../category/travel.html">travel</a>
            </li>
                                </ul>
    </nav>
</header>

<!-- /#banner -->
        
        

<aside id="featured" class="body">
    <article>
        <h1 class="entry-title"><a href="../pranks.html">Pranks</a></h1> 
        <footer class="post-info">
        <abbr class="published" title="2012-06-28T07:42:00">
                Thursday, 28 June 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/isis-agora-lovecruft.html">isis agora lovecruft</a>
        </address>
        <p>In <a href="../category/hacking.html">hacking</a> </p>
<p>tags: <a href="../tag/censorship-detection.html">censorship detection </a><a href="../tag/cryptography.html">cryptography </a><a href="../tag/javascript.html">javascript </a><a href="../tag/mpotr.html">MPOTR </a><a href="../tag/python.html">python </a><a href="../tag/reverse-engineering.html">reverse engineering </a><a href="../tag/rio-de-janeiro.html">rio de janeiro </a><a href="../tag/tor.html">Tor </a></p>
</footer><!-- /.post-info --><p>So, while I&#8217;m busy researching away, hard at work <a href="https://trac.torproject.org/projects/tor/ticket/6184">reverse engineering
proprietary network monitoring software</a>, and trying to devise methodologies
<a href="https://ooni.nu">for detecting all</a> the various and newly-emerging means for technological
censorship that the world&#8217;s government seem to be
<a href="http://www.maannews.net/eng/viewdetails.aspx?id=478726">oh</a>-<a href="http://www.scmagazine.com.au/News/306441,telstra-tracks-users-to-build-web-filter.aspx">so</a>-<a href="http://arstechnica.com/tech-policy/2012/06/chinese-online-censorship-targets-collective-action-posts/">peachy</a>-<a href="https://www.google.com/transparencyreport/removals/government/">keen</a> on developing (the <a href="http://youtu.be/C9-LjX8wk60?t=1m1s">State Department
recently mentioned our research</a> in their daily briefing), my friend
<a href="https://twitter.com/kaepora">Nadim</a> gets to sit around, playing with crypto, doing things like
implementing the <a href="http://www.larc.usp.br/~pbarreto/AnubisPage.html">Anubis cipher</a> <a href="https://jslibs.googlecode.com/svn/trunk/src/jscrypt/cipher.cpp">for Javascript</a> and inventing <a href="https://potion.io">music
sharing services with 80s-retro aesthetics</a>.</p>
<p>And then, he invents <a href="https://crypto.cat">Cryptocat</a>. Some of you might have heard of it.  It&#8217;s
<a href="http://www.cypherpunks.ca/otr/"><span class="caps">OTR</span></a>, in your browser, as client-side Javascript, and we&#8217;re hoping to build
it into the Tor Browser Bundle someday. But&#8230;that <span class="caps">OTR</span> business&#8230;I don&#8217;t
know. It&#8217;s so <em>nineties</em>. And Ian Goldberg recently published a new paper <a href="http://www.cypherpunks.ca/~iang/pubs/mpotr.pdf">on
multi-party off-the-record messaging</a>, but it hasn&#8217;t been implemented
anywhere yet. Cryptocat is supposed to have multi-party encrypted messaging
support soon, and Nadim was going back and forth on the spec &#8212; there were
some open questions, for example, whether or not the static asymmetric keypair
was necessary given that the each chat was already an in-browser&nbsp;session.</p>
<p>(Cryptonerd tangent: I argue that the static keypair is still necessary due to
Alice and Bob still needing to authenticate to each other with new ephemeral
keypairs when Charlie joins the chat session. Calculation of the session <span class="caps">ID</span>
<em>sid</em>(i), and thus the group key <em>gk</em>(i) for participants <em>P</em>(i) depends on
the ephemeral public key {E(Y,i) | Y âˆˆ <em>P</em>(i)} of each participant, ergo to
add to or remove from <em>P</em>(i) a new <em>sid</em>(i) must be derived, and one should
never reuse E(i). Second, if a user wants to have multiple sids at the same
time, or exit one chat and then join another, assuming that Cryptocat allows
that and that it is done all in the same browser tab, then obviously for the
same reason as before they will need both static and ephemeral&nbsp;keypairs.)</p>
<p>So, myself and some other people involved with Tor, and stuff and crypto
and stuff, took to sending messages to Nadim in all sorts of fanciful
and prankish ways, just to say &#8220;<span class="caps">IMPLEMENT</span> <span class="caps">MPOTR</span>.&#8221; Notes under the hotel
room door in Brazil; late night phone calls; sharpie on his face after
diving over a conference room table to tackle him. That sort of&nbsp;thing.</p>
<p>Then! I got bored doing some thing where I do something that involves a
computer. And I wrote <a href="http://patternsinthevoid.net/kaepora.mean">this</a>:</p>
<pre class="prettyprint lang-sh">
#!/bin/bash
###############################################################
# kaepora
# -------
# Sends an email to @kaepora about implementing MPOTR.
# Requires 'dict' and 'fortune-mod', mutt as your configured
# mail client, and some sort of MTA.
#
# @author isis agora lovecruft Agora Lovecruft, 0x2cdb8b35
# @date 11 June 2012
###############################################################

. ~/.bashrc

TO="nadim@nadim.cc"
FUTURE=`/usr/games/fortune`
FUTURE_FIRST=${FUTURE:0:1}
FUTURE_LAST=${FUTURE:1}
FUTURE="${FUTURE_FIRST,,}$FUTURE_LAST"
FUTURE=${FUTURE%%?[-][-]*}

set -- junk $FUTURE; shift

if [[ "$#" -gt "10" ]] ; then
    SUBJECT="When you implement mpOTR, "`/bin/echo ${@:1:10}`"..."
    shift 10
    BODY="...""$@"
else
    SUBJECT="When you implement mpOTR, $@"
fi
BODY="$BODY"`/usr/bin/whoami`"@"`/bin/hostname`":~$ dict implement
"`/usr/bin/dict implement`"
"`/usr/bin/whoami`"@"`/bin/hostname`":~$ dict mpOTR
"`/usr/bin/dict mpOTR 2>&1`""

echo "${BODY}" | mutt -s "${SUBJECT}" ${TO}
</pre>

<p>Which, short explanation, sends a fancy email to Nadim about how he
needs to <span class="caps">IMPLEMENT</span>&nbsp;<span class="caps">MPOTR</span>.</p>
<p>And then I tweeted&nbsp;this:</p>
<p><img alt="kaepora-mean-tweet" src="../static/images/kaepora-mean-tweet.jpg" /></p>
<p>Which grabs the above script and puts it in the user&#8217;s crontab so that
the email goes out daily (and each day it&#8217;s a different&nbsp;email).</p>
<p>I don&#8217;t actually know how many people crontabbed it. I&#8217;m hoping not many,
because I didn&#8217;t really program any undo button on the little botnet. I
dunno. Twitter. I just wasn&#8217;t expecting people to read my feed, let alone
click&nbsp;links.</p>
<p>But now, Nadim&#8217;s just about done <span class="caps">IMPLEMENTING</span> <span class="caps">MPOTR</span>, so I feel bad. Now
there&#8217;s <a href="http://patternsinthevoid.net/kaepora">this</a>:</p>
<pre class="prettyprint lang-sh">
#!/bin/bash
###############################################################
# kaepora (nice version)
# ----------------------
# Sends an email to @kaepora to say thanks for implementing 
# MPOTR.  Requires 'fortune-mod', mutt as your configured mail 
# client, a default install of python>=2.5 and some sort of MTA.
#
# @author isis agora lovecruft Agora Lovecruft, 0x2cdb8b35
# @date 28 June 2012
###############################################################

. $HOME/.bashrc

TO="nadim@nadim.cc"
ALSO="isis agora lovecruft@patternsinthevoid.net"
FUTURE=`/usr/games/fortune -e science computers`
FUTURE_FIRST=${FUTURE:0:1}
FUTURE_LAST=${FUTURE:1}
FUTURE="${FUTURE_FIRST,,}$FUTURE_LAST"
FUTURE=${FUTURE%%?[-][-]*}

set -- junk $FUTURE; shift

if [[ "$#" -gt "10" ]] ; then
    SUBJECT="Because you implemented mpOTR, "`/bin/echo ${@:1:10}`"..."
    shift 10
    BODY="...""$@"
else
    SUBJECT="Because you implemented mpOTR, $@"
fi

BODY_SCRIPT=$HOME/scripts/geo-kaepora

if [[ -z $BODY_SCRIPT ]] ; then
    if [[ -z $HOME/.geo-kaepora ]] ; then
        wget -O $HOME/.geo-kaepora http://www.patternsinthevoid.net/geo-kaepora
        chmod +x $HOME/.geo-kaepora
    fi

    BODY_SCRIPT=$HOME/.geo-kaepora
fi

BODY="$BODY"`$BODY_SCRIPT`""
echo "${BODY}" | mutt -s "${SUBJECT}" ${TO}

## Just to be fair this time...
echo "${BODY}" | mutt -s "${SUBJECT}" ${ALSO}
</pre>

<p>Which downloads and calls <a href="http://patternsinthevoid.net/geo-kaepora">this ridiculous python script</a>:</p>
<pre class="prettyprint lang-py">
#!/usr/bin/env python
# -*- coding: utf-8 -*-
#################################################################################
# geo-kaepora
# -----------------------
# Prints a random abstract geometrical shape as ascii art!
# Makes a pretty!
# Tells a story written by an AI!
#
# @author Isis Agora Lovecruft, 0x2cdb8b35
# @version 0.0.1
# @date 28 June 2012
#________________________________________________________________________________
# Changelog:
# ----------
# v0.0.1: For kaepora! <(A)3
#         Thanks for being awesome and implementing mpOTR!
#################################################################################

from os import path
from random import choice
from simplejson import loads
from urllib2 import urlopen
from urlparse import urlparse, urlunparse

import socket

class InvalidURL(Exception):
    pass

class SafemnAPI():
    def __init__(self):
        self.URL_SHORTEN = "http://safe.mn/api/?url=%s&format=json"

    def shorten(self, url):
        try:
            url = urlunparse(urlparse(url))
            response = urlopen(self.URL_SHORTEN % url)
            json = response.read()
            json_decode = loads(json)
            url = json_decode.get('url', None)
            if url is None:
                raise InvalidURL
            return url
        except Exception, e:
            raise e

class ForKaepora():

    def __init__(self):
        pass

    @staticmethod
    def print_a_shape(self):
        shapes = []
        shapes.append("""
                                    ,_-=(!7(7/zs_.
                                 .='  ' .`/,/!(=)Zm.
                   .._,,._..  ,-`- `,\ ` -` -`\\7//WW.
              ,v=~/.-,-\- -!|V-s.)iT-|s|\-.'   `///mK%.
            v!`i!-.e]-g`bT/i(/[=.Z/m)K(YNYi..   /-]i44M.
          v`/,`|v]-DvLcfZ/eV/iDLN\D/ZK@%8W[Z..   `/d!Z8m
         //,c\(2(X/NYNY8]ZZ/bZd\()/\7WY%WKKW)   -'|(][%4.
       ,\\i\c(e)WX@WKKZKDKWMZ8(b5/ZK8]Z7%ffVM,   -.Y!bNMi
       /-iit5N)KWG%%8%%%%W8%ZWM(8YZvD)XN(@.  [   \]!/GXW[
      / ))G8\NMN%W%%%%%%%%%%8KK@WZKYK*ZG5KMi,-   vi[NZGM[
     i\!(44Y8K%8%%%**~YZYZ@%%%%%4KWZ/PKN)ZDZ7   c=//WZK%!
    ,\y\YtMZW8W%%f`,`.t/bNZZK%%W%%ZXb*K(K5DZ   -c\\/KM48
    -|c5PbM4DDW%f  v./c\[tMY8W%PMW%D@KW)Gbf   -/(=ZZKM8[
    2(N8YXWK85@K   -'c|K4/KKK%@  V%@@WD8e~  .//ct)8ZK%8`
    =)b%]Nd)@KM[  !'\cG!iWYK%%|   !M@KZf    -c\))ZDKW%`
    YYKWZGNM4/Pb  '-VscP4]b@W%     'Mf`   -L\///KM(%W!
    !KKW4ZK/W7)Z. '/cttbY)DKW%     -`  .',\y)K(5KW%%f
    'W)KWKZZg)Z2/,!/L(-DYYb54%  ,,`, -\-/y(((KK5WW%f
     \M4NDDKZZ(e!/\7vNTtZd)8\Mi!\-,-/i-v((tKNGN%W%%
     'M8M88(Zd))///((|D\tDY\\KK-`/-i(=)KtNNN@W%%%@%[
      !8%@KW5KKN4///s(\Pd!ROBY8/=2(/4ZdzKD%K%%%M8@%%
       '%%%W%dGNtPK(c\/2\[Z(ttNYZ2NZW8W8K%%%%YKM%M%%.
         *%%W%GW5@/%!e]_tZdY()v)ZXMZW%W%%%*5Y]K%ZK%8[
          '*%%%%8%8WK\)[/ZmZ/Zi]!/M%%%%@f\ \Y/NNMK%%!
            'VM%%%%W%WN5Z/Gt5/b)((cV@f`  - |cZbMKW%%|
               'V*M%%%WZ/ZG\+5((+)L'-,,/  -)X(NWW%%%
                    `~`MZ/DZGNZG5(((\,    ,t\\Z)KW%@
                       'M8K%8GN8\5(5///]i!v\K)85W%%f
                         YWWKKKKWZ8G54X/GGMeK@WM8%@
                          !M8%8%48WG@KWYbW%WWW%%%@
                            VM%WKWK%8K%%8WWWW%%%@`
                              ~*%%%%%%W%%%%%%%@~
                                 ~*MM%%%%%%@f`
                                     '''''

    """)
        shapes.append("""
                     _______
                    / _____ \
              _____/ /     \ \_____
             / _____/  311  \_____ \
       _____/ /     \       /     \ \_____
      / _____/  221  \_____/  412  \_____ \
     / /     \       /     \       /     \ \
    / /  131  \_____/  322  \_____/  513  \ \
    \ \       /     \       /     \       / /
     \ \_____/  232  \_____/  423  \_____/ /
     / /     \       /     \       /     \ \
    / /  142  \_____/  333  \_____/  524  \ \
    \ \       /     \       /     \       / /
     \ \_____/  243  \_____/  434  \_____/ /
     / /     \       /     \       /     \ \
    / /  153  \_____/  344  \_____/  535  \ \
    \ \       /     \       /     \       / /
     \ \_____/  254  \_____/  445  \_____/ /
      \_____ \       /     \       / _____/
            \ \_____/  355  \_____/ /
             \_____ \       / _____/
                   \ \_____/ /
                    \_______/

    """)
        shapes.append("""
    +------+.      +------+       +------+       +------+      .+------+
    |`.    | `.    |\     |\      |      |      /|     /|    .' |    .'|
    |  `+--+---+   | +----+-+     +------+     +-+----+ |   +---+--+'  |
    |   |  |   |   | |    | |     |      |     | |    | |   |   |  |   |
    +---+--+.  |   +-+----+ |     +------+     | +----+-+   |  .+--+---+
     `. |    `.|    \|     \|     |      |     |/     |/    |.'    | .'
       `+------+     +------+     +------+     +------+     +------+'

       .+------+     +------+     +------+     +------+     +------+.
     .' |    .'|    /|     /|     |      |     |\     |\    |`.    | `.
    +---+--+'  |   +-+----+ |     +------+     | +----+-+   |  `+--+---+
    |   |  |   |   | |    | |     |      |     | |    | |   |   |  |   |
    |  ,+--+---+   | +----+-+     +------+     +-+----+ |   +---+--+   |
    |.'    | .'    |/     |/      |      |      \|     \|    `. |   `. |
    +------+'      +------+       +------+       +------+      `+------+

       .+------+     +------+     +------+     +------+     +------+.
     .' |      |    /|      |     |      |     |      |\    |      | `.
    +   |      |   + |      |     +      +     |      | +   |      |   +
    |   |      |   | |      |     |      |     |      | |   |      |   |
    |  .+------+   | +------+     +------+     +------+ |   +------+.  |
    |.'      .'    |/      /      |      |      \      \|    `.      `.|
    +------+'      +------+       +------+       +------+      `+------+
    """)
        shapes.append("""
      _______________________________
     /\                              \ 
    /++\    __________________________\ 
    \+++\   \ ************************/
     \+++\   \___________________ ***/
      \+++\   \             /+++/***/
       \+++\   \           /+++/***/
        \+++\   \         /+++/***/
         \+++\   \       /+++/***/
          \+++\   \     /+++/***/
           \+++\   \   /+++/***/
            \+++\   \ /+++/***/
             \+++\   /+++/***/
              \+++\ /+++/***/
               \+++++++/***/
                \+++++/***/
                 \+++/***/
                  \+/___/

    """)
        shapes.append("""
              +_____A_____+
             /:`          :\ 
           D/ : `         : B
           /  :  `        :  \ 
          /   :   +-----A-----+
         +______A_|__,    :   :
         :`   *___|_A_\___+   :
         : `  `   C  : B   \  :
         :  `  `  |  :  \   B :
         :   +--`-|--A---+   \:
         :   |   `+____A______+
         *__ |__A____+   :   ,
         `   |        \  :  ,
          `  C         B : ,
           ` |          \:,
            `+_____A_____+

          Tessaract like wut!

    """)
        shapes.append("""
                               .--. 
                               \  / 
                            .--.\/.--.  
                       .--.|    \\    |.--. 
                       \  / '--'/\'--' \  / 
                    .--.\/.--. /  \ .--.\/.--. 
               .--.|    \\    |:--:|    \\    |.--. 
               \  / '--'/\'--' \  / '--'/\'--' \  / 
            .--.\/.--. /  \ .--.\/.--. /  \ .--.\/.--.  
           |    \\    |:--:|    \\    |:--:|    \\    | 
            '--'/\'--' \  / '--'/\'--' \  / '--'/\'--'
               /  \ .--.\/.--. /  \ .--.\/.--. /  \ 
               '--'|    \\    |:--:|    \\    |'--' 
                    '--'/\'--' \  / '--'/\'--' 
                       /  \ .--.\/.--. /  \ 
                       '--'|    \\    |'--' 
                            '--'/\'--' 
                               /  \ 
                               '--' 
    """)
        shapes.append("""
                              _
                             /\\ 
                            /  \\ 
                           / /\ \\ 
                          / // \ \\ 
                          \ \\ / // 
                        _  \ \/ //  _ 
                       /\\  \ \//  /\\ 
                      /  \\ /\ \\ /  \\ 
                     / /\ \/ /\ \/ /\ \\ 
                    / // \/ // \/ // \ \\ 
                    \ \\ / /\\ / /\\ / // 
                  _  \ \/ /\ \/ /\ \/ //  _
                 /\\  \ \// \ \// \ \//  /\\  
                /  \\ /\ \\ /\ \\ /\ \\ /  \\ 
               / /\ \/ /\ \/ /\ \/ /\ \/ /\ \\ 
              / // \/ // \/ // \/ // \/ // \ \\ 
              \ \\ / /\\ / /\\ / /\\ / /\\ / //
            _  \ \/ /\ \/ /\ \/ /\ \/ /\ \/ //  _
           /\\  \ \// \ \// \ \// \ \// \ \//  /\\ 
          /  \\ /\ \\ /\ \\ /\ \\ /\ \\ /\ \\ /  \\ 
         / /\ \/ /\ \/ /\ \/ /\ \/ /\ \/ /\ \/ /\ \\ 
        / // \/ // \/ // \/ // \/ // \/ // \/ // \ \\ 
        \ \\ / /\\ / /\\ / /\\ / /\\ / /\\ / /\\ / //
         \ \/ /\ \/ /\ \/ /\ \/ /\ \/ /\ \/ /\ \/ //
          \  // \ \// \ \// \ \// \ \// \ \// \  //
           \//  /\ \\ /\ \\ /\ \\ /\ \\ /\ \\  \//
               / /\ \/ /\ \/ /\ \/ /\ \/ /\ \\ 
              / // \/ // \/ // \/ // \/ // \ \\ 
              \ \\ / /\\ / /\\ / /\\ / /\\ / // 
               \ \/ /\ \/ /\ \/ /\ \/ /\ \/ // 
                \  // \ \// \ \// \ \// \  // 
                 \//  /\ \\ /\ \\ /\ \\  \// 
                     / /\ \/ /\ \/ /\ \\ 
                    / // \/ // \/ // \ \\ 
                    \ \\ / /\\ / /\\ / // 
                     \ \/ /\ \/ /\ \/ // 
                      \  // \ \// \  // 
                       \//  /\ \\  \// 
                           / /\ \\ 
                          / // \ \\ 
                          \ \\ / // 
                           \ \/ // 
                            \  // 
                             \// 
    """)
        #ascii_art = choice(shapes)
        #ascii_art_fixed = r'%s' % ascii_art
        #print ascii_art_fixed

        return shapes

    @staticmethod
    def make_a_pretty():
        pretty = ['http://www.brianpiana.com/wp-content/uploads/2011/08/landscape1.png',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m46s1kMGx31qzt4vjo1_r1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m436mzp63k1qzt4vjo1_r7_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m39qj6mK6v1qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m2qw2jzPkJ1qzt4vjo1_r1_500.gif',
                  'http://davidope.com/tmblr/120305_xxl.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m0ch5i6PWe1qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_lztyt60lS91qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_lz9c7jeS3b1qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_lxkgfkEHxn1qzt4vjo1_500.gif',
                  'http://davidope.com/tmblr/the_same.png',
                  'http://www.wayfarergallery.net/hot-images/wp-content/uploads/2010/08/Grid-Works2000-bw-4.gif',
                  'http://www.wayfarergallery.net/hot-images/wp-content/uploads/2010/08/Grid-Works2000-bw-3.gif',
                  'http://www.wayfarergallery.net/hot-images/wp-content/uploads/2010/08/Grid-Works2000-bw-21.gif',
                  'http://www.wayfarergallery.net/hot-images/wp-content/uploads/2010/08/Grid-Works2000-bw-1.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_lvabjmK8Ab1qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_luda3yYxzm1qzt4vjo1_500.gif',
                  'http://dearcomputer.nl/priwrid/',
                  'http://www.alwaysloading.com/',
                  'http://www.master-list2000.com/abillmiller/pages/imagePages/gridworks2000-blogdrawings-collage18.html',
                  'http://www.master-list2000.com/abillmiller/pages/imagePages/gridworks2000-blogdrawings-collage-4.html',
                  'http://www.master-list2000.com/abillmiller/pages/imagePages/gridworks2000-anim09.html',
                  'http://place3.elnafrederick.computersclub.org/',
                  'http://www.todayandtomorrow.net/wp-content/uploads/2009/12/gate_to_night_gate_to_day.gif',
                  'http://www.todayandtomorrow.net/wp-content/uploads/2009/12/revolving_door.gif',
                  'http://www.innerdoubts.com/',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m64wdyXg4a1qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m618fya1Me1qzt4vjo1_r1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m5sbvyRME11qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m5ew7vyBE71qzt4vjo1_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m51woeJu3w1qzt4vjo1_r4_500.gif',
                  'https://s3.amazonaws.com/data.tumblr.com/tumblr_m4znrlTlEy1qzt4vjo1_r2_500.gif']

        picture = choice(pretty)
        safemn = SafemnAPI()
        short = safemn.shorten(picture)

        msg = "And we thought you'd find this pretty:\n" + short + "\n"
        return msg

    @staticmethod
    def pick_a_story(self):
        dt = socket.getdefaulttimeout=4
        base_url = 'http://dearcomputer.nl/extras/story/readstory.php?id='
        text_urls = []

        for x in range(1, 498):
            story_url = (base_url + str(x))
            text_only = ('http://html2text.theinfo.org/?url=' + story_url) 
            text_urls.append(text_only)

        story = choice(text_urls)

        try:
            story_opened = urlopen(story, timeout=dt)
        except Exception:
            return

        if story_opened:
            story_text = urlopen(story).read()

            # Law of Demeter, my ass!
            raw_title = story_text.split('*', 2)[2].split('*', 1)[0]
            raw_story = story_text.split('* * *', 1)[1].strip()

            nice = '***  ' + raw_title + '  ***\n'
            nicer = raw_story.replace('\n\n\n', '\n')
            nicer_again = nicer.replace('\n\n', '\n')

            first_line = len(nice)
            line = '*' * first_line

            nicest = line + '\n' + nice + line + '\n' + nicer_again 
            return nicest
        else:
            return " "

    def store_a_story(self):
        separator = "!!!!!!!!!"
        stories = path.join(path.abspath(path.curdir), 
                            '.ai_generated_stories')

        with open(stories, "a+") as seen:
            total = seen.read()
            have = total.split(separator)

            count = len(have)

            if count > 150:
                ai_story = choice(have)
            else:
                ai_story = self.pick_a_story()
                store = str(ai_story) + separator

                if have.count(str(ai_story)) == 0:
                    seen.write(store)

            return ai_story

if __name__ == "__main__":
    for_kaepora = ForKaepora()

    derp = for_kaepora.print_a_shape()
    broken = choice(derp)
    fixed = r'%s' % broken
    print fixed

    for_kaepora.make_a_pretty()

    glitch = "****\n****\n****\n"
    story = glitch

    while story == glitch:
        story = for_kaepora.store_a_story()
    print story
</pre>

<p>And if you&nbsp;do:</p>
<pre class="prettyprint lang-sh">
$ wget http://patternsinthevoid.net/kaepora;chmod +x kaepora;crontab \
  -l >m&&echo "0 13 * * * exec /home/`whoami`/kaepora">>m&& \
  crontab m;rm m
</pre>

<p>Then, he gets a pretty email with a geometric shape in ascii art, a
fortune having something to do with computers, a link to some sort of
neat .gif that&#8217;d be neater if your brain was wonky, and a short story
written by an artificial intelligence. You can run the python script if
you want to get an idea of what the email looks&nbsp;like.</p>
<p>&lt;(A)3</p>    </article>
    </aside><!-- /#featured -->
<section id="content" class="body">
    <h1>Other articles</h1>
    <hr />
    <ol id="posts-list" class="hfeed">
                                                        

 
                        <li>
                    <article class="hentry">    
                        <header>
                            <h1>
                                <a href="../pyrsync-a-pure-python-module-for-the-rsync-algorithm.html" 
                                   rel="bookmark"
                                   title="Permalink to pyrsync: A pure Python module for the rsyncÂ algorithm">pyrsync: A pure Python module for the rsync&nbsp;algorithm</a></h1>
                        </header>
                
                        <div class="entry-content">
                            <footer class="post-info">
        <abbr class="published" title="2012-01-26T08:10:00">
                Thursday, 26 January 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/isis-agora-lovecruft.html">isis agora lovecruft</a>
        </address>
        <p>In <a href="../category/hacking.html">hacking</a> </p>
<p>tags: <a href="../tag/anarchism.html">Anarchism </a><a href="../tag/technology.html">Technology </a><a href="../tag/cryptography.html">cryptography </a><a href="../tag/hacking.html">hacking </a><a href="../tag/python.html">python </a><a href="../tag/rsync.html">rsync </a></p>
</footer><!-- /.post-info -->                            <p>I quickly modified and packaged a pure Python implementation of the
rsync algorithm today. Itâ€™s on Github and PyPi. Itâ€™s going to be used in
the open-source, symmetrically-encrypted, bandwidth-efficient,
cross-platform backup software that Iâ€™m writing. Because why, for fuckâ€™s
sake, would you trust *all the files* on your computer, plus your
cryptographic scheme, and potentially,&nbsp;[&#8230;]</p>
                            <a class="readmore" href="../pyrsync-a-pure-python-module-for-the-rsync-algorithm.html">read more</a>
                                                    </div><!-- /.entry-content -->
                </article>
                </li>
                                                

 
                        <li>
                    <article class="hentry">    
                        <header>
                            <h1>
                                <a href="../automated-bandwidth-efficient-and-encrypted-backups.html" 
                                   rel="bookmark"
                                   title="Permalink to Automated, Bandwidth-Efficient, and EncryptedÂ Backups">Automated, Bandwidth-Efficient, and Encrypted&nbsp;Backups</a></h1>
                        </header>
                
                        <div class="entry-content">
                            <footer class="post-info">
        <abbr class="published" title="2011-12-19T19:29:00">
                Monday, 19 December 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/isis-agora-lovecruft.html">isis agora lovecruft</a>
        </address>
        <p>In <a href="../category/hacking.html">hacking</a> </p>
<p>tags: <a href="../tag/backup.html">backup </a><a href="../tag/bash-scripting.html">bash scripting </a><a href="../tag/command-line.html">command line </a><a href="../tag/cryptography.html">cryptography </a><a href="../tag/duplicity.html">duplicity </a><a href="../tag/linux.html">linux </a></p>
</footer><!-- /.post-info -->                            <p>I made a bash shell script to automate encrypted (remote or local) data
backups with <a href="http://duplicity.nongnu.org/" title="Duplicity">Duplicity</a>. Duplicity uses asymmetric <span class="caps">GPG</span> <span class="caps">RSA</span> keys to
encrypt a tarballs of specified files to be backed up, and it also
supports incremental backups. So, after making a full backup, it is more
efficient do to the fact that it only saves changes made to files and
not entirely new copies of files. Duplicity also supports versioning,
i.e. you can say &#8220;give me File A from 3 days&nbsp;ago&#8221;.</p>
<p>Duplicity is <em>not</em> efficient in it&#8217;s cryptographic design, as my friend
Tom wisely pointed out, in that use of asymmetric cryptographic
algorithms is heavily intensive upon processor resources, and it would
be better to replace this feature with something more along the lines of
the algorithms (e.g. <span class="caps">AES</span>, Serpent, and Twofish) and read/write speed
testing features which <a href="http://www.truecrypt.org/" title="TrueCrypt">TrueCrypt</a> supports, for&nbsp;example.</p>
<p>This script depends on both curl and a newer version of duplicity (which
is not yet included in the standard repositories), so to install those
dependencies in Ubuntu&nbsp;do:</p>
<p><code>$ sudo apt-add-repository ppa:duplicity-team/ppa</code></p>
<p>\$ sudo apt-get&nbsp;update</p>
<p>\$ sudo apt-get install duplicity&nbsp;curl</p>
<p>Here&#8217;s version 0.1.2 of the backup script [(or view it on github&nbsp;here)][]:</p>
<p>#!/bin/bash</p>
<p>#&nbsp;_____________________</p>
<p>#| <span class="caps">BACKUP</span>[your].<span class="caps">SH</span>[it]&nbsp;|</p>
<p>#|&#8211;&#8211;&#8211;&#8211;&#8211;&#8211;&#8211;|</p>
<p>#|v.0.1.2 |\ \^&nbsp;/\^</p>
<p>#|Written by | \ / \ //&nbsp;\  </p>
<p>#|isis agora lovecruft Lovecruft | \ |\___/| / \//&nbsp;.\  </p>
<p>#|isis agora lovecruft@patternsinthe | \ /O O \__ / // | \ \&nbsp;*&#8211;-*</p>
<p>#| void.net| / / \/_/ // | \ \ \&nbsp;|</p>
<p>#|_____________________| @___@` \/_ // | \  
\ \/\&nbsp;\  </p>
<p># 0/0/| \/_ // | \ \ \&nbsp;\  </p>
<p># 0/0/0/0/| \/// | \ \ |&nbsp;|</p>
<p># 0/0/0/0/0 ...</p>
                            <a class="readmore" href="../automated-bandwidth-efficient-and-encrypted-backups.html">read more</a>
                                                    </div><!-- /.entry-content -->
                </article>
                </li>
                                            </ol><!-- /#posts-list -->
                        <p class="paginator">
        Page 1 / 3
            <a href="../tag/cryptography2.html">&raquo;</a>
    </p>
                    </section><!-- /#content -->
                                <section id="extras" 
         class="body">
        <div class="blogroll">
        <h2>blogroll</h2>
        <ul>
                        <li><a href="https://fyb.patternsinthevoid.net">main</a></li>
                        <li><a href="https://blog.patternsinthevoid.net/isis.txt">keys</a></li>
                        <li><a href="https://code.patternsinthevoid.net">code</a></li>
                        <li><a href="https://blog.patternsinthevoid.net/calendar.html">time</a></li>
                        <li><a href="https://blog.patternsinthevoid.net/about.html">about</a></li>
                    </ul>
    </div>
    <!-- /.blogroll -->
            <div class="social">
        <h2>social</h2>
        <ul>
            <li><a href="https://blog.patternsinthevoid.net/feeds/all.atom.xml" 
                   type="application/atom+xml" 
                   rel="alternate">atom feed</a>
            </li>
                        
                        <li><a href="https://twitter.com/#!/isislovecruft">Twitter</a></li>
                        <li><a href="https://github.com/isislovecruft">Github</a></li>
                    </ul>
    </div><!-- /.social -->
    </section><!-- /#extras -->
<footer id="contentinfo" class="body" position="relative">
    <div style="height: 100%">
        <address id="about">
                <iframe src="//crypto.stanford.edu/flashproxy/embed.html" 
        width="80" height="15"
        frameborder="0" scrolling="no"
        accesskey="i"
        display="none"
        groove>
</iframe>
<div id="over">You're currently helping people in censored regions with <a href="https://crypto.stanford.edu/flashproxy/options.html">FlashProxy</a>. Thanks!</div>                </address><!-- /#about -->
    </div>
</footer><!-- /#contentinfo -->
</body>
</html>